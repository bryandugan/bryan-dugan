<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Upgrade PHP with Homebrew  | Bryan Dugan</title><meta name="gridsome:hash" content="f7a3a3739b0eaa03cb3f1289626bee99c6d5caa4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Need to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet."><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Upgrade PHP with Homebrew"><meta data-vue-tag="ssr" property="og:description" content="Need to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet."><meta data-vue-tag="ssr" property="og:url" content="https://bryandugan.com/upgrade-php-with-homebrew/"><meta data-vue-tag="ssr" property="article:published_time" content="2020-12-30"><meta data-vue-tag="ssr" property="og:image" content="https://bryandugan.com/static/images/sharing-card.png"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Upgrade PHP with Homebrew"><meta data-vue-tag="ssr" name="twitter:description" content="Need to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet."><meta data-vue-tag="ssr" name="twitter:site" content="@bryandugan"><meta data-vue-tag="ssr" name="twitter:creator" content="@bryandugan"><meta data-vue-tag="ssr" name="twitter:image" content="https://bryandugan.com/static/images/sharing-card.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.1dae8099ec28e32255eb4bd8776e5ec9.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;0,800;1,500&amp;display=swap"><link rel="preload" href="/assets/css/10.styles.3c41917f.css" as="style"><link rel="preload" href="/assets/js/app.2f13ab47.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.6a09204e.js" as="script"><link rel="prefetch" href="/assets/js/1.79c1680a.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.e0fe2562.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.bbe09dba.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.578e3b72.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.2f8bcfe7.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.d50058b0.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.4bd02329.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--blog-vue~page--src--templates--author-vue~page--src--templates--post-vue~p~6d61096a.b084e0f8.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.ffed2ab6.js"><link rel="stylesheet" href="/assets/css/10.styles.3c41917f.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-sans bg-gray-100" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-sans%20bg-gray-100%22%7D%7D">
    <div id="app" data-server-rendered="true" class="bg-gray-100"><nav class="bg-gray-100 border-b" data-v-1667eace><div class="max-w-screen-xl mx-auto" data-v-1667eace><div class="flex justify-between px-4 lg:px-8" data-v-1667eace><div class="flex px-2 lg:px-0" data-v-1667eace><div class="flex items-center flex-shrink-0" data-v-1667eace><a href="/" class="active" data-v-1667eace><img alt="Bryan Dugan Logo" src="/images/logo.svg" class="block w-auto h-12 lg:hidden g-image" data-v-1667eace><img alt="Bryan Dugan Logo" src="/images/logo.svg" class="hidden w-auto h-12 lg:block g-image" data-v-1667eace></a></div><div class="hidden lg:ml-6 lg:flex" data-v-1667eace><a href="/blog/" class="inline-flex items-center px-1 pt-1 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300 focus:outline-none" data-v-1667eace>Blog
          </a><a href="/about/" class="inline-flex items-center px-1 pt-1 ml-8 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300 focus:outline-none" data-v-1667eace>About
          </a><a href="/uses/" class="inline-flex items-center px-1 pt-1 ml-8 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300 focus:outline-none" data-v-1667eace>Uses
          </a><a href="/files/Bryan-Dugan_Resume.pdf" target="_blank" active-class="text-gray-900 border-green-500 hover:border-green-500 hover:text-gray-900" class="inline-flex items-center px-1 pt-1 ml-8 text-sm font-medium leading-5 text-gray-700 transition duration-150 ease-in-out border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300 focus:outline-none" data-v-1667eace>Resume</a></div></div><div class="flex flex-1 px-2 py-4 lg:ml-6 lg:justify-end" data-v-1667eace><div class="relative w-full max-w-lg lg:max-w-xs" data-v-486e2482 data-v-1667eace><label for="search" class="sr-only" data-v-486e2482>Search</label><div class="relative" data-v-486e2482><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none" data-v-486e2482><svg fill="currentColor" viewBox="0 0 20 20" class="w-5 h-5 text-gray-700" data-v-486e2482><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" data-v-486e2482></path></svg></div><input id="search" placeholder="Search" type="search" autocomplete="off" value="" class="block w-full py-2 pl-10 pr-3 leading-5 text-gray-900 placeholder-gray-700 transition duration-150 ease-in-out bg-gray-200 border border-gray-300 rounded-lg input focus:outline-none focus:bg-white focus:placeholder-gray-700 focus:shadow-outline-green focus:rounded-b-none" data-v-486e2482></div><!----><!----></div></div><div class="flex items-center lg:hidden" data-v-1667eace><button aria-label="Main menu" aria-expanded="false" class="inline-flex items-center justify-center p-2 text-gray-400 transition duration-150 ease-in-out rounded-md rounded-lg hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-600" data-v-1667eace><svg stroke="currentColor" fill="none" viewBox="0 0 24 24" class="block w-6 h-6 block" data-v-1667eace><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-v-1667eace></path></svg><svg stroke="currentColor" fill="none" viewBox="0 0 24 24" class="w-6 h-6 hidden" data-v-1667eace><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-1667eace></path></svg></button></div></div><div class="bg-gray-300 border-t border-gray-300 shadow-inner lg:hidden hidden" data-v-1667eace><div class="pt-2 pb-3" data-v-1667eace><a href="/blog/" class="block py-2 pl-3 pr-4 text-base font-medium text-gray-700 transition duration-150 ease-in-out border-l-4 border-transparent hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300" data-v-1667eace>Blog
        </a><a href="/about/" class="block py-2 pl-3 pr-4 mt-1 text-base font-medium text-gray-700 transition duration-150 ease-in-out border-l-4 border-transparent hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300" data-v-1667eace>About
        </a><a href="/uses/" class="block py-2 pl-3 pr-4 mt-1 text-base font-medium text-gray-700 transition duration-150 ease-in-out border-l-4 border-transparent hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300" data-v-1667eace>Uses
        </a><a href="/files/Bryan-Dugan_Resume.pdf" target="_blank" class="block py-2 pl-3 pr-4 mt-1 text-base font-medium text-gray-700 transition duration-150 ease-in-out border-l-4 border-transparent hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300" data-v-1667eace>Resume</a></div></div></div></nav><main><header><div class="flex flex-wrap pt-16 mx-auto md:max-w-2xl xl:max-w-4xl"><div class="flex-col"><!----><div class="px-6 pt-8 sm:px-12"><h1 class="mb-2 font-sans text-3xl font-bold leading-tight text-black sm:text-5xl">
          Upgrade PHP with Homebrew
        </h1><p class="text-gray-700"><span><a href="/author/bryan-dugan/" class="text-gray-700 capitalize transition-colors duration-300 border-b border-transparent hover:border-gray-400">Bryan Dugan</a>
            •
          </span><time datetime="2019-08-12 00:00:00" class="text-gray-700 capitalize">12 August, 2019
          </time>
          •
          <span>3 min read</span></p><div class="pt-4"><a href="/tag/homebrew/" class="inline-block px-4 py-2 mb-2 mr-4 font-sans text-sm font-bold text-green-800 transition-colors duration-300 border border-green-800 rounded-full hover:text-white hover:bg-green-800 sm:text-sm">
            homebrew
          </a><a href="/tag/php/" class="inline-block px-4 py-2 mb-2 mr-4 font-sans text-sm font-bold text-green-800 transition-colors duration-300 border border-green-800 rounded-full hover:text-white hover:bg-green-800 sm:text-sm">
            php
          </a><a href="/tag/development/" class="inline-block px-4 py-2 mb-2 mr-4 font-sans text-sm font-bold text-green-800 transition-colors duration-300 border border-green-800 rounded-full hover:text-white hover:bg-green-800 sm:text-sm">
            development
          </a></div></div></div></div></header><article class="flex flex-col max-w-xl px-6 pt-16 mx-auto leading-normal text-gray-700 md:max-w-2xl xl:max-w-4xl sm:px-12"><div class="pb-12 markdown"><p>Need to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet.</p>
<h2 id="upgrading-php-with-homebrew"><a href="#upgrading-php-with-homebrew" aria-hidden="true"><span class="icon icon-link"></span></a>Upgrading PHP with Homebrew</h2>
<p>Assuming you already have Homebrew installed </p>
<p>Update Brew.</p>
<pre class="language-bash"><code class="language-bash">brew update</code></pre>
<p>Install the latest version of PHP.</p>
<pre class="language-bash"><code class="language-bash">brew <span class="token function">install</span> php</code></pre>
<p>Alternatively, if you're looking to use a specific version to match your production server version you can add @ then the version number to the end of the formula. So if you wanted to install PHP 7.3, you would use the following command.</p>
<pre class="language-bash"><code class="language-bash">brew <span class="token function">install</span> php@7.3</code></pre>
<p>Check which version of PHP you're currently running by using <code>php -v</code>.</p>
<pre class="language-bash"><code class="language-bash">php -v

PHP <span class="token number">7.1</span>.30 <span class="token punctuation">(</span>cli<span class="token punctuation">)</span> <span class="token punctuation">(</span>built: Jun <span class="token number">17</span> <span class="token number">2019</span> 08:52:19<span class="token punctuation">)</span> <span class="token punctuation">(</span> NTS <span class="token punctuation">)</span>
Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1997</span>-2018 The PHP Group
Zend Engine v3.1.0, Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1998</span>-2018 Zend Technologies
with Zend OPcache v7.1.30, Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1999</span>-2018, by Zend Technologies`</code></pre>
<p>Unlink your old PHP version from brew by typing the old PHP version minus the minor update number. (In this example's case we are using PHP <code>7.1.30</code>, so we would use PHP <code>7.1</code>)</p>
<pre class="language-bash"><code class="language-bash">brew unlink php@7.1</code></pre>
<p><strong>Note:</strong> PHP went through a formula update in 2018 where <code>php71</code> is now <code>php@7.1</code> so be sure to try both ways if you're running into issues.</p>
<p>Link your new PHP version.</p>
<pre class="language-bash"><code class="language-bash">brew <span class="token function">link</span> php@7.3</code></pre>
<p><strong>Note:</strong> Replace <code>7.3</code> with whatever version of PHP you want to switch to or remove <code>@7.3</code> completely if you just ran <code>brew install php</code></p>
<hr>
<h2 id="updating-your-path"><a href="#updating-your-path" aria-hidden="true"><span class="icon icon-link"></span></a>Updating Your $PATH</h2>
<p>Now that your PHP is updated and linked, make sure your <code>$PATH</code> is properly setup.</p>
<p>Open <code>~/.bash_profile</code> in your favorite text editor and add the following: (Replace PHP 7.3.7 with whatever version of PHP you're using)</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Setting PATH for PHP 7.3</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/opt/php@7.3.7/bin:<span class="token environment constant">$PATH</span>"</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/opt/php@7.3.7/sbin:<span class="token environment constant">$PATH</span>"</span></code></pre>
<p><strong>Note</strong>: After modifying your <code>.bash_profile</code> you must fully close out of your terminal and re-launch it for your changes to take effect. Alternatively, you can type <code>source ~/.bash_profile</code> in your terminal for the changes to take effect.</p>
<hr>
<h2 id="adding-php-packages"><a href="#adding-php-packages" aria-hidden="true"><span class="icon icon-link"></span></a>Adding PHP Packages</h2>
<p>Homebrew now uses PECL for all PHP packages, you may need to reinstall any packages that were previously managed with Homebrew.</p>
<p>To find out if you're already using PECL packages type the following command in your terminal to list out any packages that you may have installed.</p>
<pre class="language-bash"><code class="language-bash">pecl list</code></pre>
<p>Install your PECL packages. Imagick is the only one I use, which handles image transformations in Craft CMS. To install it, run the following command</p>
<pre class="language-bash"><code class="language-bash">pecl <span class="token function">install</span> imagick</code></pre>
<p><strong>Note:</strong> To to see a list of all PECL packages, refer to <a href="https://pecl.php.net/" target="_blank" rel="nofollow noopener noreferrer">https://pecl.php.net/</a></p>
<hr>
<h2 id="configure-php-settings"><a href="#configure-php-settings" aria-hidden="true"><span class="icon icon-link"></span></a>Configure PHP Settings</h2>
<p>In order to figure out where your php.ini settings are located, run the following command in your terminal.</p>
<pre class="language-bash"><code class="language-bash">php --ini</code></pre>
<p>PHP in Homebrew by default adds a file called <code>php-memory-limits.ini</code> which is in the following location. This will overwrite the settings in the default php.ini and make it easier to move over to a new installation in the future.</p>
<pre class="language-bash"><code class="language-bash">Configuration File <span class="token punctuation">(</span>php.ini<span class="token punctuation">)</span> Path: /usr/local/etc/php/7.3
Loaded Configuration File:         /usr/local/etc/php/7.3/php.ini
Scan <span class="token keyword">for</span> additional .ini files in: /usr/local/etc/php/7.3/conf.d
Additional .ini files parsed:      /usr/local/etc/php/7.3/conf.d/ext-opcache.ini,
/usr/local/etc/php/7.3/conf.d/php-memory-limits.ini</code></pre>
<p>Modify your php-memory-limits.ini file and move over your settings. Below is a list of my personal config file.</p>
<pre class="language-php"><code class="language-php"><span class="token punctuation">;</span> Max memory per instance
memory_limit <span class="token operator">=</span> <span class="token number">1024</span><span class="token constant">M</span>

<span class="token punctuation">;</span>Set the max ececution time of a script<span class="token punctuation">.</span>
max_execution_time <span class="token operator">=</span> <span class="token number">300</span>

<span class="token punctuation">;</span>The maximum size of an uploaded file<span class="token punctuation">.</span>
upload_max_filesize <span class="token operator">=</span> <span class="token number">128</span><span class="token constant">M</span>

<span class="token punctuation">;</span>Sets max size of post data allowed<span class="token punctuation">.</span> This setting also affects file upload<span class="token punctuation">.</span> To upload large files<span class="token punctuation">,</span> this value must be larger than upload_max_filesize
post_max_size <span class="token operator">=</span> <span class="token number">128</span><span class="token constant">M</span></code></pre>
<h2 id="upgrading-valet"><a href="#upgrading-valet" aria-hidden="true"><span class="icon icon-link"></span></a>Upgrading Valet</h2>
<p>If you use Laravel Valet for all your local development, here are the steps to finish upgrading PHP. Run the following commands to update Valet in your terminal:</p>
<p>Update all composer files. </p>
<pre class="language-bash"><code class="language-bash"><span class="token function">composer</span> global update</code></pre>
<p>Run the install script for Valet.</p>
<pre class="language-bash"><code class="language-bash">valet <span class="token function">install</span></code></pre>
<p>Restart Valet by running the restart script.</p>
<pre class="language-bash"><code class="language-bash">valet restart</code></pre>
</div><div class="flex flex-col pt-12 pb-12 text-sm leading-normal text-gray-700 border-t border-gray-300 font-sm"><strong>Note:</strong> Any links leading you to products or services
        are most likely affiliate links that I will receive compensation from.
        I only promote products or services that I own/use myself and truly
        feel will deliver value to you. By purchasing products or services
        through these links, you will help support me in creating awesome
        ad-free content.
      </div><footer class="pb-10 sm:pb-16"><div class="flex items-center justify-center py-10 border-t border-gray-300 justify-left"><figure class="w-full h-auto px-2 sm:mb-0 sm:w-1/5"><a href="/author/bryan-dugan/"><img src="/images/authors/bryan-dugan.png" alt="bryan-dugan" width="100" class="object-cover p-4 rounded-full sm:p-0 md:w-full"></a></figure><div class="px-4 text-left sm:w-4/5"><h4 class="mb-2 font-sans text-lg font-bold sm:text-xl sm:mb-4"><a href="/author/bryan-dugan/" class="text-black capitalize transition-colors duration-300 border-b-2 border-transparent hover:text-gray-700">Bryan Dugan
              </a></h4><p class="leading-normal"><a href="/author/bryan-dugan/" class="text-green-800 transition-colors duration-300 hover:text-green-500 hover:underline">
                See all posts by
                Bryan Dugan →
              </a></p></div></div></footer></article><footer><div class="bg-black"><div class="max-w-screen-xl px-4 py-12 mx-auto sm:px-6 lg:px-8"><div class="mb-0 text-base text-gray-100 uppercase">
        Have a Project in mind?
      </div><div><a href="mailto:bryan@bryandugan.com?subject=Let's%20build%20something%20together" class="mb-10 text-2xl font-bold leading-none text-gray-100 transition duration-500 hover:text-green-400">
          Let's build something together ⟶
        </a></div></div><div class="max-w-screen-xl px-4 pt-12 pb-8 mx-auto sm:px-6 md:flex md:items-center md:justify-between lg:px-8"><div class="flex mb-8 md:mb-0 md:order-2"><a href="https://twitter.com/bryandugan" target="_blank" class="text-gray-100 hover:text-green-400"><span class="sr-only">Twitter</span><svg fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a href="https://www.linkedin.com/in/bryandugan" target="_blank" rel="noopener" class="ml-6 text-gray-100 hover:text-green-400"><span class="sr-only">LinkedIn</span><svg fill="currentColor" viewBox="0 0 448 512" class="w-6 h-6"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a><a href="https://instagram.com/bryan.dugan" target="_blank" rel="noopener" class="ml-6 text-gray-100 hover:text-green-400"><span class="sr-only">Instagram</span><svg fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd"></path></svg></a><a href="https://github.com/bryandugan" rel="noopener" target="_blank" class="ml-6 text-gray-100 hover:text-green-400"><span class="sr-only">GitHub</span><svg fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div><div class="md:mt-0 md:order-1"><div class="mb-4 text-sm text-gray-100 md:mb-0">
          © 2020
          <a href="/" class="active">Bryan Dugan</a>. All rights reserved.
        </div><div class="text-sm text-gray-100">
          Proudly built with
          <a href="https://gridsome.org/" class="underline">gridsome</a> and
          <a href="https://tailwindcss.com/" class="underline">tailwindcss</a>.
        </div></div></div></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Upgrade PHP with Homebrew","path":"\u002Fupgrade-php-with-homebrew\u002F","slug":"upgrade-php-with-homebrew","datetime":"2019-08-12 00:00:00","content":"\u003Cp\u003ENeed to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet.\u003C\u002Fp\u003E\n\u003Ch2 id=\"upgrading-php-with-homebrew\"\u003E\u003Ca href=\"#upgrading-php-with-homebrew\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUpgrading PHP with Homebrew\u003C\u002Fh2\u003E\n\u003Cp\u003EAssuming you already have Homebrew installed \u003C\u002Fp\u003E\n\u003Cp\u003EUpdate Brew.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ebrew update\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EInstall the latest version of PHP.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ebrew \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E php\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAlternatively, if you're looking to use a specific version to match your production server version you can add @ then the version number to the end of the formula. So if you wanted to install PHP 7.3, you would use the following command.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ebrew \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E php@7.3\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECheck which version of PHP you're currently running by using \u003Ccode\u003Ephp -v\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ephp -v\n\nPHP \u003Cspan class=\"token number\"\u003E7.1\u003C\u002Fspan\u003E.30 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecli\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ebuilt: Jun \u003Cspan class=\"token number\"\u003E17\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E2019\u003C\u002Fspan\u003E 08:52:19\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E NTS \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\nCopyright \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ec\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1997\u003C\u002Fspan\u003E-2018 The PHP Group\nZend Engine v3.1.0, Copyright \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ec\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1998\u003C\u002Fspan\u003E-2018 Zend Technologies\nwith Zend OPcache v7.1.30, Copyright \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ec\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1999\u003C\u002Fspan\u003E-2018, by Zend Technologies`\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EUnlink your old PHP version from brew by typing the old PHP version minus the minor update number. (In this example's case we are using PHP \u003Ccode\u003E7.1.30\u003C\u002Fcode\u003E, so we would use PHP \u003Ccode\u003E7.1\u003C\u002Fcode\u003E)\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ebrew unlink php@7.1\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote:\u003C\u002Fstrong\u003E PHP went through a formula update in 2018 where \u003Ccode\u003Ephp71\u003C\u002Fcode\u003E is now \u003Ccode\u003Ephp@7.1\u003C\u002Fcode\u003E so be sure to try both ways if you're running into issues.\u003C\u002Fp\u003E\n\u003Cp\u003ELink your new PHP version.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ebrew \u003Cspan class=\"token function\"\u003Elink\u003C\u002Fspan\u003E php@7.3\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote:\u003C\u002Fstrong\u003E Replace \u003Ccode\u003E7.3\u003C\u002Fcode\u003E with whatever version of PHP you want to switch to or remove \u003Ccode\u003E@7.3\u003C\u002Fcode\u003E completely if you just ran \u003Ccode\u003Ebrew install php\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"updating-your-path\"\u003E\u003Ca href=\"#updating-your-path\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUpdating Your $PATH\u003C\u002Fh2\u003E\n\u003Cp\u003ENow that your PHP is updated and linked, make sure your \u003Ccode\u003E$PATH\u003C\u002Fcode\u003E is properly setup.\u003C\u002Fp\u003E\n\u003Cp\u003EOpen \u003Ccode\u003E~\u002F.bash_profile\u003C\u002Fcode\u003E in your favorite text editor and add the following: (Replace PHP 7.3.7 with whatever version of PHP you're using)\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token comment\"\u003E# Setting PATH for PHP 7.3\u003C\u002Fspan\u003E\n\u003Cspan class=\"token builtin class-name\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003E\u003Cspan class=\"token environment constant\"\u003EPATH\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\u002Fusr\u002Flocal\u002Fopt\u002Fphp@7.3.7\u002Fbin:\u003Cspan class=\"token environment constant\"\u003E$PATH\u003C\u002Fspan\u003E\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"token builtin class-name\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003E\u003Cspan class=\"token environment constant\"\u003EPATH\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\u002Fusr\u002Flocal\u002Fopt\u002Fphp@7.3.7\u002Fsbin:\u003Cspan class=\"token environment constant\"\u003E$PATH\u003C\u002Fspan\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote\u003C\u002Fstrong\u003E: After modifying your \u003Ccode\u003E.bash_profile\u003C\u002Fcode\u003E you must fully close out of your terminal and re-launch it for your changes to take effect. Alternatively, you can type \u003Ccode\u003Esource ~\u002F.bash_profile\u003C\u002Fcode\u003E in your terminal for the changes to take effect.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"adding-php-packages\"\u003E\u003Ca href=\"#adding-php-packages\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAdding PHP Packages\u003C\u002Fh2\u003E\n\u003Cp\u003EHomebrew now uses PECL for all PHP packages, you may need to reinstall any packages that were previously managed with Homebrew.\u003C\u002Fp\u003E\n\u003Cp\u003ETo find out if you're already using PECL packages type the following command in your terminal to list out any packages that you may have installed.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Epecl list\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EInstall your PECL packages. Imagick is the only one I use, which handles image transformations in Craft CMS. To install it, run the following command\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Epecl \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E imagick\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote:\u003C\u002Fstrong\u003E To to see a list of all PECL packages, refer to \u003Ca href=\"https:\u002F\u002Fpecl.php.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fpecl.php.net\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"configure-php-settings\"\u003E\u003Ca href=\"#configure-php-settings\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConfigure PHP Settings\u003C\u002Fh2\u003E\n\u003Cp\u003EIn order to figure out where your php.ini settings are located, run the following command in your terminal.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ephp --ini\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPHP in Homebrew by default adds a file called \u003Ccode\u003Ephp-memory-limits.ini\u003C\u002Fcode\u003E which is in the following location. This will overwrite the settings in the default php.ini and make it easier to move over to a new installation in the future.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003EConfiguration File \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ephp.ini\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E Path: \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.3\nLoaded Configuration File:         \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.3\u002Fphp.ini\nScan \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E additional .ini files in: \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.3\u002Fconf.d\nAdditional .ini files parsed:      \u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.3\u002Fconf.d\u002Fext-opcache.ini,\n\u002Fusr\u002Flocal\u002Fetc\u002Fphp\u002F7.3\u002Fconf.d\u002Fphp-memory-limits.ini\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EModify your php-memory-limits.ini file and move over your settings. Below is a list of my personal config file.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-php\"\u003E\u003Ccode class=\"language-php\"\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E Max memory per instance\nmemory_limit \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1024\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EM\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003ESet the max ececution time of a script\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\nmax_execution_time \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E300\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003EThe maximum size of an uploaded file\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\nupload_max_filesize \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E128\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EM\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003ESets max size of post data allowed\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E This setting also affects file upload\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E To upload large files\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E this value must be larger than upload_max_filesize\npost_max_size \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E128\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EM\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"upgrading-valet\"\u003E\u003Ca href=\"#upgrading-valet\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUpgrading Valet\u003C\u002Fh2\u003E\n\u003Cp\u003EIf you use Laravel Valet for all your local development, here are the steps to finish upgrading PHP. Run the following commands to update Valet in your terminal:\u003C\u002Fp\u003E\n\u003Cp\u003EUpdate all composer files. \u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Ecomposer\u003C\u002Fspan\u003E global update\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ERun the install script for Valet.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Evalet \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ERestart Valet by running the restart script.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Evalet restart\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n","description":"Need to update PHP for use with your local development stack? This short guide will run you through how to do just that, as well as upgrading your PHP version in Laravel Valet.","timeToRead":3,"cover":null,"author":{"id":"bryan-dugan","title":"bryan-dugan","path":"\u002Fauthor\u002Fbryan-dugan\u002F"},"tags":[{"id":"homebrew","title":"homebrew","path":"\u002Ftag\u002Fhomebrew\u002F"},{"id":"php","title":"php","path":"\u002Ftag\u002Fphp\u002F"},{"id":"development","title":"development","path":"\u002Ftag\u002Fdevelopment\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.2f13ab47.js" defer></script><script src="/assets/js/page--src--templates--post-vue.6a09204e.js" defer></script>
  </body>
</html>
