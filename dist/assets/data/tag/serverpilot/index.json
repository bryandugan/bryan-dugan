{"hash":"903e07fbe29cd3228d7e7c8a84bd242c09ea779f","data":{"tag":{"id":"serverpilot","title":"serverpilot","path":"/tag/serverpilot/","belongsTo":{"totalCount":1,"pageInfo":{"totalPages":1,"currentPage":1},"edges":[{"node":{"id":"72efb94ae529e631f7d1bc4b57b77c50","title":"Serverpilot Server Configuation","datetime":"2019-10-02 00:00:00","path":"/serverpilot-server-configuration/","content":"<p>This is a list of all the configuration changes I made to my Digital Ocean/ServerPilot server.</p>\n<h2 id=\"installed-applications\"><a href=\"#installed-applications\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Installed Applications</h2>\n<p>I have installed the Auto MySql Backup, Imagick, and Zip/Unzip applications to the server. Refer to the instructions below on how to install them yourself.</p>\n<h3 id=\"auto-mysql-backup\"><a href=\"#auto-mysql-backup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Auto MySQL Backup</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token function\">automysqlbackup</span></code></pre>\n<h3 id=\"imagick\"><a href=\"#imagick\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Imagick</h3>\n<p><strong>Note:</strong> Replace the PHP version 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pecl7.3-sp <span class=\"token function\">install</span> imagick</code></pre>\n<p>Select autodetect from settings</p>\n<p><strong>Copy installation to PHP 7.3</strong></p>\n<p><strong>Note:</strong> Replace 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">bash</span> -c <span class=\"token string\">\"echo extension=imagick.so > /etc/php7.3-sp/conf.d/imagick.ini\"</span></code></pre>\n<p><strong>Restart PHP</strong></p>\n<p><strong>Note:</strong> Replace 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> php7.3-fpm-sp restart</code></pre>\n<h3 id=\"zip--unzip\"><a href=\"#zip--unzip\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Zip / Unzip</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token function\">zip</span> <span class=\"token function\">unzip</span></code></pre>\n<h2 id=\"change-php-settings-per-application\"><a href=\"#change-php-settings-per-application\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Change PHP Settings per Application</h2>\n<p>To change PHP.ini settings in each app, create a file called <code>.user.ini</code> and place in your public folder</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> apps/APPNAME/public/.user.ini</code></pre>\n<pre class=\"language-jsx\"><code class=\"language-jsx\">memory_limit <span class=\"token operator\">=</span> <span class=\"token number\">512</span>M\nmax_execution_time <span class=\"token operator\">=</span> <span class=\"token number\">300</span>\nupload_max_filesize <span class=\"token operator\">=</span> <span class=\"token number\">512</span>M</code></pre>\n<h2 id=\"change-mysql-default-settings\"><a href=\"#change-mysql-default-settings\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Change MySQL Default Settings</h2>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /etc/mysql/my.cnf</code></pre>\n<p><strong>Change max_allowed_packet setting from 16M to 32M</strong></p>\n<p><strong>Note:</strong> There was two places that need changing in the <code>my.cnf</code> file</p>\n<pre class=\"language-text\"><code class=\"language-text\">max_allowed_packed = 32M</code></pre>\n<p><strong>Restart MySQL for changes to take effect</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysql restart</code></pre>\n","excerpt":"","description":"A list of all the configuration changes I made to my Digital Ocean/ServerPilot server.","timeToRead":1,"author":{"id":"bryan-dugan","title":"bryan-dugan","path":"/author/bryan-dugan/"}}}]}}},"context":{}}