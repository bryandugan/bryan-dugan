{"hash":"7e8c9a75eeca46851acc4e78df9884ed53cc7b01","data":{"post":{"title":"Serverpilot Server Configuation","path":"/serverpilot-server-configuration/","slug":"serverpilot-server-configuration","datetime":"2019-10-02 00:00:00","content":"<p>This is a list of all the configuration changes I made to my Digital Ocean/ServerPilot server.</p>\n<h2 id=\"installed-applications\"><a href=\"#installed-applications\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Installed Applications</h2>\n<p>I have installed the Auto MySql Backup, Imagick, and Zip/Unzip applications to the server. Refer to the instructions below on how to install them yourself.</p>\n<h3 id=\"auto-mysql-backup\"><a href=\"#auto-mysql-backup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Auto MySQL Backup</h3>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">apt-get install automysqlbackup</span></code></pre>\n<h3 id=\"imagick\"><a href=\"#imagick\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Imagick</h3>\n<p><strong>Note:</strong> Replace the PHP version 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">sudo pecl7.3-sp install imagick</span></code></pre>\n<p>Select autodetect from settings</p>\n<p><strong>Copy installation to PHP 7.3</strong></p>\n<p><strong>Note:</strong> Replace 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">sudo bash -c </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">echo extension=imagick.so &gt; /etc/php7.3-sp/conf.d/imagick.ini</span><span style=\"color: #89DDFF\">\"</span></code></pre>\n<p><strong>Restart PHP</strong></p>\n<p><strong>Note:</strong> Replace 7.3 with whatever version of PHP you are using.</p>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">sudo service php7.3-fpm-sp restart</span></code></pre>\n<h3 id=\"zip--unzip\"><a href=\"#zip--unzip\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Zip / Unzip</h3>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">apt-get install zip unzip</span></code></pre>\n<h2 id=\"change-php-settings-per-application\"><a href=\"#change-php-settings-per-application\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Change PHP Settings per Application</h2>\n<p>To change PHP.ini settings in each app, create a file called <code class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\">.user.ini</code> and place in your public folder</p>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">vim apps/APPNAME/public/.user.ini</span></code></pre>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #8F93A2\">memory_limit</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> 512M</span>\n<span style=\"color: #8F93A2\">max_execution_time</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #F78C6C\">300</span>\n<span style=\"color: #8F93A2\">upload_max_filesize</span><span style=\"color: #FFFFFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #FFFFFF\"> 512M</span></code></pre>\n<h2 id=\"change-mysql-default-settings\"><a href=\"#change-mysql-default-settings\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Change MySQL Default Settings</h2>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">vim /etc/mysql/my.cnf</span></code></pre>\n<p><strong>Change max_allowed_packet setting from 16M to 32M</strong></p>\n<p><strong>Note:</strong> There was two places that need changing in the <code class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\">my.cnf</code> file</p>\n<code class=\"shiki\" style=\"background: #2e3440; color: #d8dee9\">max_allowed_packed = 32M</code>\n<p><strong>Restart MySQL for changes to take effect</strong></p>\n<pre class=\"shiki\" style=\"background-color: #0F111A\"><code><span style=\"color: #FFFFFF\">sudo service mysql restart</span></code></pre>\n","description":"A list of all the configuration changes I made to my Digital Ocean/ServerPilot server.","timeToRead":1,"cover":null,"author":{"id":"bryan-dugan","title":"bryan-dugan","path":"/author/bryan-dugan/"},"tags":[{"id":"serverpilot","title":"serverpilot","path":"/tag/serverpilot/"},{"id":"hosting","title":"hosting","path":"/tag/hosting/"},{"id":"servers","title":"servers","path":"/tag/servers/"}]}},"context":{}}